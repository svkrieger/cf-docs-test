"use strict";(self.webpackChunkcf_docs_test=self.webpackChunkcf_docs_test||[]).push([[3249,8401],{267:(e,t,r)=>{r.d(t,{A:()=>n});r(6540);var s=r(5246),o=r(4848);function n(e){return(0,s.A)().collectAnchor(e.id),(0,o.jsx)("li",{...e})}},590:(e,t,r)=>{r.d(t,{A:()=>n});r(6540);var s=r(9303),o=r(4848);function n(e){return(0,o.jsx)(s.A,{...e})}},1102:(e,t,r)=>{r.d(t,{A:()=>i});r(6540);var s=r(4164);const o={img:"img_CujE"};var n=r(4848);function i(e){return(0,n.jsx)("img",{decoding:"async",loading:"lazy",...e,className:(t=e.className,(0,s.A)(t,o.img))});var t}},3538:(e,t,r)=>{r.d(t,{A:()=>i});var s=r(6540),o=r(6701),n=r(4848);function i(e){const t=s.Children.toArray(e.children),r=t.find((e=>s.isValidElement(e)&&"summary"===e.type)),i=(0,n.jsx)(n.Fragment,{children:t.filter((e=>e!==r))});return(0,n.jsx)(o.A,{...e,summary:r,children:i})}},3705:(e,t,r)=>{r.d(t,{$:()=>s});const s={platform_code:"CF"}},4257:(e,t,r)=>{r.d(t,{A:()=>n});r(6540);var s=r(6289),o=r(4848);function n(e){return(0,o.jsx)(s.A,{...e})}},5699:(e,t,r)=>{r.d(t,{A:()=>o});r(6540);var s=r(4848);function o(e){return(0,s.jsx)(s.Fragment,{children:e.children})}},6038:(e,t,r)=>{r.d(t,{A:()=>a});r(6540);var s=r(4164);const o={containsTaskList:"containsTaskList_kggB"};var n=r(4848);function i(e){if(void 0!==e)return(0,s.A)(e,e?.includes("contains-task-list")&&o.containsTaskList)}function a(e){return(0,n.jsx)("ul",{...e,className:i(e.className)})}},6733:(e,t,r)=>{r.d(t,{A:()=>c});var s=r(7184),o=r(9714),n=(r(6540),r(3705)),i=r(4848);const a=e=>{let{configKey:t,valuesMap:r}=e;const s=r[n.$[t]]||"Default content is rendered when the config value is unknown.";return(0,i.jsx)("p",{children:s})},c={...s.A,AppRuntimeAbbr:o.bK3,ConditionalContent:a}},9714:(e,t,r)=>{r.d(t,{Ig$:()=>c,bK3:()=>i,slI:()=>a,uwX:()=>n});var s=r(8069),o=r(4848);function n(){return"shared-domain.example.com"}function i(){return"CF"}function a(){return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h3",{children:"Default ASGs"}),"Cloud Foundry preconfigures two ASGs: `public_networks` and `dns`. Unless you modify these before your initial deployment, these ASGs are applied by default to all containers in your deployment. * `public_networks`: This group allows access to public networks, and blocks access to private networks and link local addresses. Cloud Foundry blocks outgoing traffic to the following IP address ranges by specifically allowing traffic to all other addresses: * 10.0.0.0 - 10.255.255.255 * 169.254.0.0 - 169.254.255.255 * 172.16.0.0 - 172.31.255.255 * 192.168.0.0 - 192.168.255.255 * `dns`: This group allows access to DNS on port 53 for any IP address. The default ASGs are defined in the `cf-deployment.yml` file as follows:",(0,o.jsxs)(s.A,{children:["security_group_definitions:",(0,o.jsx)("br",{}),"- name: public_networks",(0,o.jsx)("br",{}),"rules:",(0,o.jsx)("br",{}),"- destination: 0.0.0.0-9.255.255.255",(0,o.jsx)("br",{}),"protocol: all",(0,o.jsx)("br",{}),"- destination: 11.0.0.0-169.253.255.255",(0,o.jsx)("br",{}),"protocol: all",(0,o.jsx)("br",{}),"- destination: 169.255.0.0-172.15.255.255",(0,o.jsx)("br",{}),"protocol: all",(0,o.jsx)("br",{}),"- destination: 172.32.0.0-192.167.255.255",(0,o.jsx)("br",{}),"protocol: all",(0,o.jsx)("br",{}),"- destination: 192.169.0.0-255.255.255.255",(0,o.jsx)("br",{}),"protocol: all",(0,o.jsx)("br",{}),"- name: dns",(0,o.jsx)("br",{}),"rules:",(0,o.jsx)("br",{}),"- destination: 0.0.0.0/0",(0,o.jsx)("br",{}),"ports: '53'",(0,o.jsx)("br",{}),"protocol: tcp",(0,o.jsx)("br",{}),"- destination: 0.0.0.0/0",(0,o.jsx)("br",{}),"ports: '53'",(0,o.jsx)("br",{}),"protocol: udp",(0,o.jsx)("br",{})]}),"Modify the default ASGs to block outbound traffic as necessary for your installation. To see how the ASGs are defined by default, see the ",(0,o.jsx)("a",{href:"https://github.com/cloudfoundry/cf-deployment/blob/main/cf-deployment.yml#L604-L627",children:"cf-deployment.yml"})," file on GitHub."]})}function c(){return(0,o.jsxs)("div",{children:[(0,o.jsx)("h2",{children:"Enabling route services in Cloud Foundry"}),"To begin support for route services in a Cloud Foundry deployment, you must provide a passphrase used by the Gorouter to encrypt a header that is sent with the request to the route service. The Gorouter uses this header to validate the request sent by the route service to the app route. The passphrase is configured in the cf-release manifest. ``` properties router: route_services_secret: YOUR-SECRET-PASSPHRASE ```",(0,o.jsx)("p",{children:" The `route_services_secret` property can be a robust passphrase."}),(0,o.jsxs)("p",{children:["For more information, see the",(0,o.jsx)("a",{href:"https://github.com/cloudfoundry-incubator/routing-release/blob/master/jobs/gorouter/spec",children:"Gorouter spec"}),"in the cf-release repository on GitHub."]}),"Route service instances can send requests to the value of `x-cf-forwarded-url`, obeying the scheme. The scheme is `https` by default. For environments that do not support TLS termination, this property can be set to false. ``` properties: router: route_services_recommend_https: true ``` The Gorouter only forwards requests to route services over SSL. By default, certificates provided by route services must be signed by a trusted CA. If they are not, the Gorouter rejects the request. In development environments, this concern might be unreasonable. To deactivate SSL certificate validation, edit the following property: ``` properties: router: ssl_skip_validation: true ```"]})}},9885:(e,t,r)=>{r.d(t,{A:()=>a});var s=r(6540),o=r(8069),n=r(1657),i=r(4848);function a(e){return function(e){return void 0!==e.children&&s.Children.toArray(e.children).every((e=>"string"==typeof e&&!e.includes("\n")))}(e)?(0,i.jsx)(n.A,{...e}):(0,i.jsx)(o.A,{...e})}}}]);